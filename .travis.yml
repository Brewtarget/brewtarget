language: c++
dist: bionic
os: linux
services:
- docker
jobs:
  include:
  - stage: Create draft Github Release
    name: Create a draft Github Release
    script: ./release-scripts/create-draft-release.sh
  - stage: Build Binaries
    name: Build for Ubuntu 18.04
    script: ./release-scripts/docker-build-and-release-ubuntu.sh ubuntu1804
  - name: Build for Ubuntu 19.04
    script: ./release-scripts/docker-build-and-release-ubuntu.sh ubuntu1904
  - stage: Finalize Github Release
    name: Finalize  Github Release
    script: ./release-scripts/finalize-draft-release.sh
env:
  global:
  - secure: O0F2xZs8+4etWh7+q56T+G6KSQ23q4Tpoun9goBpkWlHeYknuk0tfPlP1+S3aqVsR3bi8mTZ4lQPz46dfMeGogVAJmAuwrHXqbzmoe2zXn50qxLXu7w0duh/23byn68d7cqGKLmm5Qd9WM4nuJwMnNuFKfQ/erLsXYNO4rwowNq3brwbZ/tKdawCdtc7CvYoZuDQFqJ06fGQHXMw3z6ETFqYgwmvHm0MZa3dRqpqFCYCwhlO+jWH9Sao2U37Rq0gAdzzwQm2B+nb/4ax48iDMs3xHNJRIfJnjIrYHmnVo7xciDawa5794wyeTUXSstsTAnFZ6dJVgvXL2MCDpLMUQMUzpI84uNCwKca8ShvRbPYXpPYiP8K089GLcWEhQuzJTOtb6mRBf51THQ3Z62zt/o+33KmSvbdNKfxh4/ZXyJM8gkQtRlxCMXCZbjjjcRn5O69C2rXlsaUIoimSJ38P+rSki2lCiATI7Pn+cG8c1xexj+6kcdDxaTHFOzF2TbtDvxowiFjK8Pq1jMjgfObVnHKrByf8SB01Edh9Tufyv2GpRyQ5SpTjXvf4XVDJw5LhxyOWxM7ZDvHtyalHclYAZKQFPjtKr6LR53EWS4pxkK2PkoUvHYLLPR6VAXa7CPFE7tiah/JmoexT73AlnZhHk0xPRzNtGnYKjp0ltYyN6m0=
  - secure: f3kHnLuTg6AbzgX1FdccKwABWM6pnk3WiYWr1Ze79TNtJsrDo0E3mzhfm2Hd13QWtYXIOdtJn8kbC34LWxyLx4YsK3oZC2PhgwbCpJdrg3fVb7L9nvErqYvoDAcyZPTl6KSnLVI3xrGyxAmiOKtE1oS8DvydyQ+ZG7zFgkG/Te/zupRAnt7Cf2Je2EmL0/J8IXX0V6wjJQtSOiFs9NbGIt/gw4I9Wxql0IvT6MO+G9fumxx/gh4RYra6J2TpcRsVB7/yYgT5XhEsPBiR9yPdxgIMGNyHCHtu7Cfl5lPw1sJqmJdFlC91DLiH2P7Yrp6VXjhTduRbGEHarLg1UwtofkDkKag3tsWdinMEUczjXsjyi9mGUp7oxe0los3/FUWuQlIqDtlXOnaildmSCrUFLZ1vs36mgrOid/6JmvGFUUdEuHzEb1Rdhpue0hd6F2vuwUbV3BWJ2g+PcdHF9c/QG8hXsBMAjbQpC/QDcIYyG52ijVup8+aC21kR1ROkTtgQeMuYGOVbcoOsoI9g0kcwOs+yKNzO5BjvwEXFg8nypuJ+ZWF86CQgjxNYL2BFxVpcROzaKc9xdCDoY3by9Pik2ZGzZ2YXnoPoOMv+pqDRGNPyPZoxi77dMaeHdFz9FlqPurlnYEA/o4G4NNG3elDlUC/JEadVHjuzFz7SJnKxweI=
  - secure: dKYSPqNG/3mq35FUUwoCCxoR3f05Gdf6UjGRUooQDrpfDwRDKwWK3LW1MffOH22wmF+s+jC9l7UQodNvb9a86HFnECz38FaCrWQYl6YhQeyBh9FT64zZIVngIVJ3Yi5/ts7NDi0Ja6TB+JvFxoBboClOZVXReFAQa70G5dk6sAWDdir2lEy/54yzNE0Ivws/RuYDWaLGT+728gnCXIfBZHJ8ZdzrQCYIzWAhWJtR7qUimppUIvg6S3rTOZSOhiG+14mDiMe45E69VSiHZWaqqkXqeB3RaK9V6pk+B7t4Uo1F0r9JXmfZMfaj/xz2AggYcFUcOJ1s/fX8Baj8Rtb9H87g2HfFlV5wHgp8e9V+8Dho6CIrPp4LBlq091QzpZmOEiwsI4C7Za4PskRj48UUjNBrFw3Idpyi+S0n7bYrWiaEhvZm1XZlGbCr+acW3WOzAKSWIuNvuA5QJ8ygWZ3fFk32MaAZavh7V2WmFsmS2Bg9lBujyNCElw8Klkrs9On5pijARZZJKuuQ07Wn8US0OdNsuRdq+JRSDFLcJSAz6xidmSiaeZ7KmkLA6/pWLLTdL6zMJbrx1BYZads3u7HN35JBpTqGRrqlZR5lk7/Yybiw7/udhx9kz8kxJulJxbdU1Ul1AIh73fHqMIhSFSHkTK+zu14GIA1Pf7Fut8gUI7s=
